@model FlatMate.Web.Areas.Lists.ViewModels.ItemListEditVm

@{
    Layout = "_Layout";
}

<section class="container">

    <div class="title">
        <h2>@Model.List.Name bearbeiten</h2>
    </div>

    <form asp-area="ItemLists" asp-controller="ItemList" asp-action="Edit">
        <fieldset disabled="@(!Model.List.Privileges.IsOwned)">
            <label asp-for="List.Name"></label>
            <input asp-for="List.Name"/>

            <label asp-for="List.Description"></label>
            <input asp-for="List.Description"/>

            <label asp-for="List.IsPublic"></label>
            <input asp-for="List.IsPublic"/>

            <div style="display: flex; justify-content: space-between" hide="@(!Model.List.Privileges.IsEditable)">
                <a asp-area="ItemLists" asp-controller="ItemList" asp-action="Delete" asp-route-id="@Model.List.Id" class="btn btn-danger" title="Löschen">Löschen</a>
                <input type="submit" value="Speichern">
            </div>
        </fieldset>
    </form>

    <hr/>

    <item-list-editor></item-list-editor>

</section>

@section vueTemplates {
    @await Html.PartialAsync("ItemItemListVue")
}

@section viewData {
    <script type="application/json" id="viewData">
        @Html.Raw(JsonConvert.SerializeObject(Model.List, Json.ViewSerializerSettings))
    </script>
}

@section vueInit{
    <script type="text/javascript">
        FlatMate.ItemLists.init()
    </script>
}